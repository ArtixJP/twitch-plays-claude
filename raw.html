<!DOCTYPE html>

<html>
<head>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https:; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://unpkg.com https://esm.sh https://esm.run https://cdn.tailwindcss.com https://threejs.org https://cdn.threejs.org https://cdn.p5js.org https://code.jquery.com https://d3js.org https://cdn.plot.ly https://cdn.tonejs.org; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://fonts.gstatic.com https://cdnjs.cloudflare.com https://cdn.jsdelivr.net; img-src 'self' data: https:; media-src 'self' https:; font-src 'self' https://fonts.gstatic.com https://fonts.googleapis.com https://cdnjs.cloudflare.com https://cdn.jsdelivr.net; worker-src 'self'; frame-src https://www.youtube.com https://www.youtube-nocookie.com https://player.vimeo.com; connect-src 'self' https: wss: ws:; object-src 'none'; base-uri 'self'; form-action 'self';">
<title>Reset</title>
<style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #333;
            font-family: system-ui, -apple-system, sans-serif;
            text-align: center;
        }
        h1 { font-size: 2rem; margin-bottom: 10px; }
        p { font-size: 1rem; opacity: 0.7; }
        code { background: #eee; padding: 2px 6px; border-radius: 4px; }
    </style>
</head>
<body>
<div class="red-triangle" id="redFighter" style="position: fixed; left: 150px; top: 300px; width: 0; height: 0; border-left: 60px solid transparent; border-right: 60px solid transparent; border-bottom: 100px solid #e53935; filter: drop-shadow(0 4px 20px rgba(229, 57, 53, 0.6)); z-index: 10;">
<div class="health-bar" style="position: absolute; top: -20px; left: 0; width: 100%; height: 12px; background: #333; border-radius: 6px; overflow: hidden;">
<div id="redHealth" style="width: 100%; height: 100%; background: linear-gradient(90deg, #4caf50, #8bc34a); transition: width 0.3s;"></div>
</div>
<span style="position: absolute; top: -35px; left: 50%; transform: translateX(-50%); color: #e53935; font-weight: bold; font-size: 12px;">TRIANGLE</span>
</div>
<div class="blue-square" id="blueFighter" style="position: fixed; left: 550px; top: 310px; width: 80px; height: 80px; background: linear-gradient(135deg, #2196f3, #0d47a1); box-shadow: 0 4px 20px rgba(33, 150, 243, 0.4); border-radius: 8px; z-index: 10;">
<div class="health-bar" style="position: absolute; top: -20px; left: 0; width: 100%; height: 12px; background: #333; border-radius: 6px; overflow: hidden;">
<div id="blueHealth" style="width: 100%; height: 100%; background: linear-gradient(90deg, #4caf50, #8bc34a); transition: width 0.3s;"></div>
</div>
<span style="position: absolute; top: -35px; left: 50%; transform: translateX(-50%); color: #2196f3; font-weight: bold; font-size: 12px;">SQUARE</span>
</div>
<div id="battleArena" style="position: fixed; top: 50px; left: 50%; transform: translateX(-50%); text-align: center; z-index: 100;">
<h2 style="color: #ff5722; font-size: 28px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); animation: titlePulse 1s ease-in-out infinite;">‚öîÔ∏è SHAPE WARS ‚öîÔ∏è</h2>
<p id="battleStatus" style="color: #fff; background: rgba(0,0,0,0.7); padding: 5px 15px; border-radius: 20px; margin-top: 10px;">FIGHT!</p>
<div id="hiMom" style="position: absolute; top: 60px; right: -80px; background: linear-gradient(135deg, #ff69b4, #ff1493); color: white; padding: 8px 15px; border-radius: 15px; font-size: 14px; font-weight: bold; animation: hiMomFloat 2s ease-in-out infinite; box-shadow: 0 4px 15px rgba(255,105,180,0.5);">üëã Hi Mom! üíñ<div style="position: absolute; bottom: -8px; left: 20px; width: 0; height: 0; border-left: 8px solid transparent; border-right: 8px solid transparent; border-top: 10px solid #ff1493;"></div></div>
<div id="hiGrandma" style="position: absolute; top: 60px; left: -100px; background: linear-gradient(135deg, #9c27b0, #7b1fa2); color: white; padding: 8px 15px; border-radius: 15px; font-size: 14px; font-weight: bold; animation: hiGrandmaFloat 2.5s ease-in-out infinite; box-shadow: 0 4px 15px rgba(156,39,176,0.5);">üëµ Hi Grandma! üíú<div style="position: absolute; bottom: -8px; right: 20px; width: 0; height: 0; border-left: 8px solid transparent; border-right: 8px solid transparent; border-top: 10px solid #7b1fa2;"></div></div>
</div>
<div id="impactEffect" style="position: fixed; width: 100px; height: 100px; pointer-events: none; z-index: 50; display: none;"></div>
<div class="ghost-container">
<h1 class="ghost-text">‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë</h1>
<p class="ghost-text">‚ñë ‚ñë ‚ñë ‚ñë ‚ñë ‚ñë ‚ñë ‚ñë ‚ñë ‚ñë ‚ñë</p>
</div>
<style>
        .ghost-container {
            position: relative;
        }
        .ghost-text {
            opacity: 0.08;
            color: #999;
            letter-spacing: 0.3em;
            animation: ghostPulse 4s ease-in-out infinite;
            user-select: none;
        }
        @keyframes ghostPulse {
            0%, 100% { opacity: 0.05; }
            50% { opacity: 0.12; }
        }
        .ghost-container::after {
            content: '...';
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0.3;
            animation: ellipsis 2s steps(4) infinite;
        }
        @keyframes triPulse {
            0%, 100% { transform: scale(1); opacity: 0.9; }
            50% { transform: scale(1.02); opacity: 1; box-shadow: 0 6px 30px rgba(229, 57, 53, 0.6); }
        }
        @keyframes circlePulse {
            0%, 100% { transform: scale(1); opacity: 0.9; }
            50% { transform: scale(1.05); opacity: 1; box-shadow: 0 6px 30px rgba(33, 150, 243, 0.6); }
        }
        @keyframes titlePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); text-shadow: 0 0 20px #ff5722; }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px) rotate(-2deg); }
            75% { transform: translateX(5px) rotate(2deg); }
        }
        @keyframes impact {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(3); opacity: 0; }
        }
        .hit-effect {
            position: absolute;
            width: 60px;
            height: 60px;
            background: radial-gradient(circle, #ffeb3b, #ff9800, transparent);
            border-radius: 50%;
            animation: impact 0.4s ease-out forwards;
        }
        @keyframes hiGrandmaFloat {
            0%, 100% { transform: translateY(0) rotate(2deg); }
            50% { transform: translateY(-10px) rotate(-2deg); }
        }
        @keyframes hiMomFloat {
            0%, 100% { transform: translateY(0) rotate(-2deg); }
            50% { transform: translateY(-8px) rotate(2deg); }
        }
        @keyframes ellipsis {
            0% { content: ''; }
            25% { content: '.'; }
            50% { content: '..'; }
            75% { content: '...'; }
        }
    </style>
<script>
(function() {
    const red = document.getElementById('redFighter');
    const blue = document.getElementById('blueFighter');
    const redHealthBar = document.getElementById('redHealth');
    const blueHealthBar = document.getElementById('blueHealth');
    const status = document.getElementById('battleStatus');
    const impact = document.getElementById('impactEffect');
    
    let redHealth = 100;
    let blueHealth = 100;
    let redX = 150, redY = 300;
    let blueX = 550, blueY = 310;
    let redVX = 0, redVY = 0;
    let blueVX = 0, blueVY = 0;
    let battleOver = false;
    
    const attacks = ['PUNCH!', 'SLAM!', 'BASH!', 'WHACK!', 'POW!', 'BOOM!'];
    
    function showImpact(x, y) {
        const effect = document.createElement('div');
        effect.className = 'hit-effect';
        effect.style.left = (x - 30) + 'px';
        effect.style.top = (y - 30) + 'px';
        effect.style.position = 'fixed';
        effect.style.zIndex = '60';
        document.body.appendChild(effect);
        setTimeout(() => effect.remove(), 400);
    }
    
    function updatePositions() {
        red.style.left = redX + 'px';
        red.style.top = redY + 'px';
        blue.style.left = blueX + 'px';
        blue.style.top = blueY + 'px';
    }
    
    function checkCollision() {
        const dx = (redX + 61) - (blueX + 40);
        const dy = (redY + 49) - (blueY + 40);
        const dist = Math.sqrt(dx*dx + dy*dy);
        return dist < 100;
    }
    
    function fight() {
        if (battleOver) return;
        
        // Move towards each other
        const dx = (blueX + 40) - (redX + 61);
        const dy = (blueY + 40) - (redY + 49);
        const dist = Math.sqrt(dx*dx + dy*dy);
        
        if (dist > 80) {
            redVX = (dx / dist) * 4 + (Math.random() - 0.5) * 2;
            redVY = (dy / dist) * 4 + (Math.random() - 0.5) * 2;
            blueVX = (-dx / dist) * 4 + (Math.random() - 0.5) * 2;
            blueVY = (-dy / dist) * 4 + (Math.random() - 0.5) * 2;
        }
        
        redX += redVX;
        redY += redVY;
        blueX += blueVX;
        blueY += blueVY;
        
        // Boundaries
        redX = Math.max(50, Math.min(700, redX));
        redY = Math.max(150, Math.min(500, redY));
        blueX = Math.max(50, Math.min(700, blueX));
        blueY = Math.max(150, Math.min(500, blueY));
        
        if (checkCollision()) {
            // COLLISION! Both take damage
            const damage = Math.floor(Math.random() * 15) + 5;
            const attacker = Math.random() > 0.5 ? 'red' : 'blue';
            
            if (attacker === 'red') {
                blueHealth -= damage;
                blue.style.animation = 'shake 0.2s';
                status.textContent = 'üî¥ ' + attacks[Math.floor(Math.random()*attacks.length)] + ' -' + damage;
            } else {
                redHealth -= damage;
                red.style.animation = 'shake 0.2s';
                status.textContent = 'üîµ ' + attacks[Math.floor(Math.random()*attacks.length)] + ' -' + damage;
            }
            
            showImpact((redX + blueX) / 2 + 60, (redY + blueY) / 2 + 50);
            
            // Bounce apart
            redVX = -dx / dist * 8;
            redVY = -dy / dist * 8;
            blueVX = dx / dist * 8;
            blueVY = dy / dist * 8;
            
            setTimeout(() => {
                red.style.animation = '';
                blue.style.animation = '';
            }, 200);
            
            // Update health bars
            redHealthBar.style.width = Math.max(0, redHealth) + '%';
            blueHealthBar.style.width = Math.max(0, blueHealth) + '%';
            
            if (redHealth <= 0 || blueHealth <= 0) {
                battleOver = true;
                const winner = redHealth > 0 ? 'üî∫ TRIANGLE' : 'üü¶ SQUARE';
                status.textContent = winner + ' WINS!';
                status.style.background = 'linear-gradient(90deg, gold, orange)';
                status.style.color = '#333';
                status.style.fontWeight = 'bold';
                
                // Loser fades
                if (redHealth <= 0) red.style.opacity = '0.3';
                if (blueHealth <= 0) blue.style.opacity = '0.3';
                
                // Restart after 3 seconds
                setTimeout(() => {
                    redHealth = 100; blueHealth = 100;
                    redX = 150; redY = 300;
                    blueX = 550; blueY = 310;
                    redHealthBar.style.width = '100%';
                    blueHealthBar.style.width = '100%';
                    red.style.opacity = '1';
                    blue.style.opacity = '1';
                    status.textContent = 'ROUND 2... FIGHT!';
                    status.style.background = 'rgba(0,0,0,0.7)';
                    status.style.color = '#fff';
                    battleOver = false;
                }, 3000);
            }
        }
        
        // Friction
        redVX *= 0.95;
        redVY *= 0.95;
        blueVX *= 0.95;
        blueVY *= 0.95;
        
        updatePositions();
    }
    
    setInterval(fight, 50);
})();
</script>
</body>
</html>