<!DOCTYPE html>

<html>
<head>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https:; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://unpkg.com https://esm.sh https://esm.run https://cdn.tailwindcss.com https://threejs.org https://cdn.threejs.org https://cdn.p5js.org https://code.jquery.com https://d3js.org https://cdn.plot.ly https://cdn.tonejs.org; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://fonts.gstatic.com https://cdnjs.cloudflare.com https://cdn.jsdelivr.net; img-src 'self' data: https:; media-src 'self' https:; font-src 'self' https://fonts.gstatic.com https://fonts.googleapis.com https://cdnjs.cloudflare.com https://cdn.jsdelivr.net; worker-src 'self'; frame-src https://www.youtube.com https://www.youtube-nocookie.com https://player.vimeo.com; connect-src 'self' https: wss: ws:; object-src 'none'; base-uri 'self'; form-action 'self';">
<title>üå≤ Enchanted Forest Adventure</title>
<style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            min-height: 100vh;
            overflow: hidden;
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(180deg, #0d1f0d 0%, #1a3a1a 30%, #0f2810 100%);
        }
        
        /* Forest Background Layers */
        .forest-bg {
            position: fixed;
            inset: 0;
            z-index: 0;
        }
        
        .stars {
            position: absolute;
            width: 100%;
            height: 40%;
            background: radial-gradient(2px 2px at 20px 30px, #ffffff55, transparent),
                        radial-gradient(2px 2px at 40px 70px, #ffffffaa, transparent),
                        radial-gradient(1px 1px at 90px 40px, #ffffff77, transparent),
                        radial-gradient(2px 2px at 130px 80px, #ffffff55, transparent),
                        radial-gradient(1px 1px at 160px 20px, #ffffffaa, transparent);
            background-size: 200px 100px;
            animation: twinkle 4s ease-in-out infinite;
        }
        
        .moon {
            position: absolute;
            top: 40px;
            right: 100px;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle at 30% 30%, #fffde8, #f5e6a3);
            border-radius: 50%;
            box-shadow: 0 0 60px #f5e6a388, 0 0 120px #f5e6a344;
        }
        
        /* Trees */
        .trees {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .tree {
            position: absolute;
            bottom: 80px;
        }
        
        .tree-trunk {
            width: 30px;
            height: 120px;
            background: linear-gradient(90deg, #2d1810 0%, #4a2c1a 50%, #2d1810 100%);
            border-radius: 5px;
            margin: 0 auto;
        }
        
        .tree-crown {
            width: 0;
            height: 0;
            border-left: 80px solid transparent;
            border-right: 80px solid transparent;
            border-bottom: 160px solid #0a3d0a;
            position: relative;
            left: -65px;
            filter: drop-shadow(0 0 20px #00ff0022);
        }
        
        .tree-crown::before {
            content: '';
            position: absolute;
            top: 40px;
            left: -60px;
            width: 0;
            height: 0;
            border-left: 60px solid transparent;
            border-right: 60px solid transparent;
            border-bottom: 120px solid #0d4d0d;
        }
        
        .tree:nth-child(1) { left: 5%; transform: scale(0.8); }
        .tree:nth-child(2) { left: 20%; transform: scale(1.2); }
        .tree:nth-child(3) { left: 75%; transform: scale(0.9); }
        .tree:nth-child(4) { left: 90%; transform: scale(1.1); }
        
        /* Ground */
        .ground {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 100px;
            background: linear-gradient(180deg, #1a4d1a 0%, #0d2d0d 100%);
            border-top: 4px solid #2d5d2d;
        }
        
        .grass {
            position: absolute;
            bottom: 96px;
            width: 100%;
            height: 30px;
            background: repeating-linear-gradient(90deg, 
                transparent 0px, transparent 10px,
                #2d7d2d 10px, #2d7d2d 12px,
                transparent 12px, transparent 20px);
        }
        
        /* Glowing Mushrooms */
        .mushroom {
            position: absolute;
            bottom: 100px;
            animation: mushroomGlow 2s ease-in-out infinite;
        }
        
        .mushroom-cap {
            width: 40px;
            height: 25px;
            background: radial-gradient(ellipse at center, #ff6b9d 0%, #cc3366 100%);
            border-radius: 50% 50% 30% 30%;
            box-shadow: 0 0 20px #ff6b9d88, 0 0 40px #ff6b9d44;
        }
        
        .mushroom-cap::before {
            content: '';
            position: absolute;
            top: 5px;
            left: 8px;
            width: 8px;
            height: 8px;
            background: #ffaacc;
            border-radius: 50%;
        }
        
        .mushroom-stem {
            width: 12px;
            height: 20px;
            background: linear-gradient(90deg, #e8d8c8, #fff, #e8d8c8);
            margin: 0 auto;
            border-radius: 0 0 5px 5px;
        }
        
        .mushroom:nth-child(1) { left: 15%; }
        .mushroom:nth-child(2) { left: 35%; animation-delay: 0.5s; }
        .mushroom:nth-child(3) { left: 60%; animation-delay: 1s; }
        .mushroom:nth-child(4) { left: 85%; animation-delay: 1.5s; }
        
        /* Fireflies */
        .firefly {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #ffff88;
            border-radius: 50%;
            box-shadow: 0 0 10px #ffff88, 0 0 20px #ffff44, 0 0 30px #ffff22;
            animation: fireflyFloat 8s ease-in-out infinite;
        }
        
        .firefly:nth-child(1) { left: 10%; top: 30%; animation-delay: 0s; }
        .firefly:nth-child(2) { left: 25%; top: 50%; animation-delay: 1s; }
        .firefly:nth-child(3) { left: 45%; top: 35%; animation-delay: 2s; }
        .firefly:nth-child(4) { left: 65%; top: 55%; animation-delay: 3s; }
        .firefly:nth-child(5) { left: 80%; top: 40%; animation-delay: 4s; }
        .firefly:nth-child(6) { left: 50%; top: 25%; animation-delay: 5s; }
        
        /* Player Character */
        #player {
            position: absolute;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            transition: left 0.5s ease-out;
        }
        
        .player-body {
            width: 40px;
            height: 50px;
            background: linear-gradient(180deg, #5b8c5b 0%, #3d6d3d 100%);
            border-radius: 10px 10px 5px 5px;
            position: relative;
        }
        
        .player-head {
            width: 35px;
            height: 35px;
            background: linear-gradient(180deg, #ffd9b3 0%, #e8c49a 100%);
            border-radius: 50%;
            position: absolute;
            top: -30px;
            left: 2.5px;
        }
        
        .player-eyes {
            position: absolute;
            top: 12px;
            left: 8px;
            width: 20px;
            display: flex;
            justify-content: space-between;
        }
        
        .eye {
            width: 6px;
            height: 8px;
            background: #2d1810;
            border-radius: 50%;
            animation: blink 4s ease-in-out infinite;
        }
        
        .player-hat {
            position: absolute;
            top: -45px;
            left: -5px;
            width: 45px;
            height: 20px;
            background: #8b4513;
            border-radius: 50% 50% 20% 20%;
        }
        
        .player-hat::before {
            content: 'üçÄ';
            position: absolute;
            top: -5px;
            left: 15px;
            font-size: 14px;
        }
        
        .player-legs {
            display: flex;
            justify-content: space-between;
            padding: 0 8px;
        }
        
        .leg {
            width: 10px;
            height: 15px;
            background: #4a3728;
            border-radius: 0 0 5px 5px;
            animation: walk 0.4s ease-in-out infinite alternate;
        }
        
        .leg:nth-child(2) { animation-delay: 0.2s; }
        
        /* UI Elements */
        .game-ui {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 200;
            color: #e0f0e0;
            text-shadow: 2px 2px 4px #000;
        }
        
        .game-title {
            font-size: 2rem;
            font-weight: bold;
            background: linear-gradient(90deg, #7fff7f, #4aff4a, #7fff7f);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            animation: titleGlow 2s ease-in-out infinite;
        }
        
        .stats {
            background: rgba(0, 30, 0, 0.7);
            padding: 10px 15px;
            border-radius: 10px;
            border: 2px solid #4a7d4a;
            font-size: 1rem;
        }
        
        .stat-item {
            margin: 5px 0;
        }
        
        /* Quest Panel */
        .quest-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 30, 0, 0.8);
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #6b9d6b;
            color: #c0e0c0;
            max-width: 250px;
            z-index: 200;
        }
        
        .quest-title {
            color: #ffdd88;
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .quest-desc {
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        /* Controls hint */
        .controls {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 30, 0, 0.7);
            padding: 10px 20px;
            border-radius: 20px;
            color: #a0d0a0;
            font-size: 0.9rem;
            z-index: 200;
            display: flex;
            gap: 20px;
        }
        
        .control-key {
            background: #2d5d2d;
            padding: 5px 10px;
            border-radius: 5px;
            margin-right: 5px;
        }
        
        /* Auto-play indicator */
        .auto-play-badge {
            position: fixed;
            bottom: 70px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(90deg, #ff6b9d, #cc66ff);
            padding: 8px 16px;
            border-radius: 20px;
            color: white;
            font-weight: bold;
            font-size: 0.85rem;
            z-index: 200;
            animation: pulse 2s ease-in-out infinite;
        }
        
        /* Animations */
        @keyframes twinkle {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }
        
        @keyframes mushroomGlow {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.5); }
        }
        
        @keyframes fireflyFloat {
            0%, 100% { transform: translate(0, 0); opacity: 0.3; }
            25% { transform: translate(30px, -20px); opacity: 1; }
            50% { transform: translate(-20px, -40px); opacity: 0.5; }
            75% { transform: translate(40px, -10px); opacity: 1; }
        }
        
        @keyframes walk {
            from { transform: translateY(0); }
            to { transform: translateY(-3px); }
        }
        
        @keyframes blink {
            0%, 90%, 100% { transform: scaleY(1); }
            95% { transform: scaleY(0.1); }
        }
        
        @keyframes titleGlow {
            0%, 100% { filter: drop-shadow(0 0 10px #4aff4a44); }
            50% { filter: drop-shadow(0 0 20px #4aff4a88); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.05); }
        }
        
        /* Magical particles */
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #88ff88;
            border-radius: 50%;
            pointer-events: none;
            animation: particleRise 3s ease-out infinite;
        }
        
        @keyframes particleRise {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-100px) scale(0); opacity: 0; }
        }
    </style>
</head>
<body>
<div class="forest-bg">
<div class="stars"></div>
<div class="moon"></div>

<div class="trees">
<div class="tree">
<div class="tree-crown"></div>
<div class="tree-trunk"></div>
</div>
<div class="tree">
<div class="tree-crown"></div>
<div class="tree-trunk"></div>
</div>
<div class="tree">
<div class="tree-crown"></div>
<div class="tree-trunk"></div>
</div>
<div class="tree">
<div class="tree-crown"></div>
<div class="tree-trunk"></div>
</div>
</div>

<div class="firefly"></div>
<div class="firefly"></div>
<div class="firefly"></div>
<div class="firefly"></div>
<div class="firefly"></div>
<div class="firefly"></div>

<div class="mushroom">
<div class="mushroom-cap"></div>
<div class="mushroom-stem"></div>
</div>
<div class="mushroom">
<div class="mushroom-cap"></div>
<div class="mushroom-stem"></div>
</div>
<div class="mushroom">
<div class="mushroom-cap"></div>
<div class="mushroom-stem"></div>
</div>
<div class="mushroom">
<div class="mushroom-cap"></div>
<div class="mushroom-stem"></div>
</div>

<div class="grass"></div>
<div class="ground"></div>
</div>

<div id="player">
<div class="player-hat"></div>
<div class="player-head">
<div class="player-eyes">
<div class="eye"></div>
<div class="eye"></div>
</div>
</div>
<div class="player-body"></div>
<div class="player-legs">
<div class="leg"></div>
<div class="leg"></div>
</div>
</div>

<div class="game-ui">
<div class="game-title">üå≤ Enchanted Forest üå≤</div>
<div class="stats">
<div class="stat-item">‚ù§Ô∏è Health: <span id="health">100</span>/100</div>
<div class="stat-item">‚ú® Magic: <span id="magic">50</span>/50</div>
<div class="stat-item">üçÑ Mushrooms: <span id="mushrooms">0</span></div>
</div>
</div>
<div class="quest-panel">
<div class="quest-title">üìú Current Quest</div>
<div class="quest-desc">Explore the magical forest and collect glowing mushrooms. Beware of the mysterious creatures that lurk in the shadows...</div>
</div>
<div class="auto-play-badge">üéÆ Auto-Exploring Mode</div>
<div class="controls">
<span><span class="control-key">‚Üê‚Üí</span> Move</span>
<span><span class="control-key">Space</span> Jump</span>
<span><span class="control-key">E</span> Interact</span>
</div>
<script>
        // Game state
        const player = document.getElementById('player');
        let playerX = 50;
        let direction = 1;
        let mushroomCount = 0;
        let autoPlay = true;
        
        // Auto-play: Explorer wanders the forest
        function autoExplore() {
            if (!autoPlay) return;
            
            // Change direction at boundaries
            if (playerX >= 85) direction = -1;
            if (playerX <= 15) direction = 1;
            
            // Random direction changes
            if (Math.random() < 0.02) direction *= -1;
            
            // Move player
            playerX += direction * 0.3;
            player.style.left = playerX + '%';
            player.style.transform = `translateX(-50%) scaleX(${direction})`;
            
            // Spawn magical particles occasionally
            if (Math.random() < 0.05) {
                spawnParticle();
            }
            
            requestAnimationFrame(autoExplore);
        }
        
        // Spawn magical particle at player position
        function spawnParticle() {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = playerX + '%';
            particle.style.bottom = '130px';
            particle.style.animationDelay = Math.random() * 0.5 + 's';
            document.body.appendChild(particle);
            
            setTimeout(() => particle.remove(), 3000);
        }
        
        // Collect mushroom animation
        function collectMushroom() {
            mushroomCount++;
            document.getElementById('mushrooms').textContent = mushroomCount;
            
            // Visual feedback
            const magic = document.getElementById('magic');
            let currentMagic = parseInt(magic.textContent);
            magic.textContent = Math.min(50, currentMagic + 5);
        }
        
        // Periodically collect mushrooms for demo
        setInterval(() => {
            if (autoPlay && Math.random() < 0.3) {
                collectMushroom();
            }
        }, 3000);
        
        // Manual controls (overrides auto-play)
        document.addEventListener('keydown', (e) => {
            if (['ArrowLeft', 'ArrowRight', ' '].includes(e.key)) {
                autoPlay = false;
                document.querySelector('.auto-play-badge').textContent = 'üéÆ Manual Control';
            }
            
            if (e.key === 'ArrowLeft') {
                playerX = Math.max(5, playerX - 3);
                direction = -1;
            }
            if (e.key === 'ArrowRight') {
                playerX = Math.min(95, playerX + 3);
                direction = 1;
            }
            
            player.style.left = playerX + '%';
            player.style.transform = `translateX(-50%) scaleX(${direction})`;
            
            spawnParticle();
        });
        
        // Start auto-explore
        autoExplore();
        
        // Add ambient sounds indication
        console.log('üå≤ Welcome to the Enchanted Forest! Use arrow keys to take control.');
    </script>
</body>
</html>